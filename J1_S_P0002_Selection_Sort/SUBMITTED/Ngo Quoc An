package bubblesort;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;


public class BubbleSort {

    public static void main(String[] args) {
        int n = inputNum("Enter a number: ");
        int[] a = new int[n];
        
        int[] input = inputArray(a);
        int[] sort = bubbleSort(input);
        
        display(sort);
        
    }

    private static final Scanner sc = new Scanner(System.in);

    public static int inputNum(String msg) {
        while (true) {
            try {
                System.out.print(msg);
                int inputPos = Integer.parseInt(sc.nextLine());
                if (inputPos < 0) {
                    System.out.println("input must be positive number");
                    continue;
                }
                return inputPos;
            } catch (Exception e) {
                System.out.println("Invalid");
            }
        }
    }
    
    public static int[] inputArray(int[] arr ) {
        while(true) {
            try {
                System.out.print("Unsorted array: ");
                String input = sc.nextLine();
                arr = parseArray(input);
                return arr;
                
            } catch (Exception e) {
                System.out.println("Invalid, re-input");
            }
        }
    }
    
    // loai bo [] thay bang ""
    // tach chuoi tu dau "," va luu vao mang moi    
    public static int[] parseArray(String input) {
        
         
        String replace = input.replaceAll("\\[|\\]", "");
        String[] replaceD = replace.split(",");
        int[] result = new int[replaceD.length];
        
         for (int i = 0; i < replaceD.length; i++) {
            int num = Integer.parseInt(replaceD[i].trim());
            result[i] = num;
        }
         
         return result;
     }
    
    public static int[] bubbleSort(int[] arr) {
        
        for (int i = 0; i < arr.length ; i++) {
            for (int j = 0; j < arr.length - 1 - i; j++) {
                if ( arr[j] > arr[j+1] ) {
                    int temp = arr[j];
                    arr[j] = arr[j+1];
                    arr[j+1] = temp;
                }
            }
        }
        return arr;
    }
    
    public static void display(int[] arr) {
        System.out.print("Sorted array: ");
        System.out.print("[");        
        for (int i = 0; i < arr.length; i++) {
            System.out.print(arr[i]);
            if ( i < arr.length - 1 ) {
                System.out.print(", ");
            }
        }
        System.out.print("]");
    }

}
